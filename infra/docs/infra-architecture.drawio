<mxfile host="65bd71144e">
    <diagram id="aws-infra" name="AWS Infrastructure">
        <mxGraphModel dx="1751" dy="741" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1100" pageHeight="850" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="title" value="AWS Infrastructure - ECS Fargate (hello-world-ecr-ecs-fargate)" style="text;html=1;align=center;verticalAlign=middle;fontSize=20;fontStyle=1;fontColor=#333333;" parent="1" vertex="1">
                    <mxGeometry x="250" y="20" width="600" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="aws-cloud" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E7;strokeColor=#FF9900;strokeWidth=2;arcSize=3;" parent="1" vertex="1">
                    <mxGeometry x="40" y="80" width="1020" height="700" as="geometry"/>
                </mxCell>
                <mxCell id="aws-label" value="AWS Cloud (eu-west-1)" style="text;html=1;align=left;verticalAlign=middle;fontSize=16;fontStyle=1;fontColor=#FF9900;" parent="1" vertex="1">
                    <mxGeometry x="60" y="90" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ecr" value="Amazon ECR&#10;hello-world-ecr-ecs-fargate&#10;&#10;Stores Docker images&#10;Scan on push enabled" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9900;strokeColor=#CC7A00;fontSize=12;fontStyle=1;fontColor=#FFFFFF;arcSize=8;verticalAlign=top;spacingTop=5;" parent="1" vertex="1">
                    <mxGeometry x="80" y="150" width="200" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="vpc" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;arcSize=3;" parent="1" vertex="1">
                    <mxGeometry x="320" y="130" width="700" height="500" as="geometry"/>
                </mxCell>
                <mxCell id="vpc-label" value="VPC (10.0.0.0/16)" style="text;html=1;align=left;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#1976D2;" parent="1" vertex="1">
                    <mxGeometry x="340" y="140" width="200" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="subnet" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;strokeWidth=2;arcSize=3;" parent="1" vertex="1">
                    <mxGeometry x="360" y="190" width="620" height="400" as="geometry"/>
                </mxCell>
                <mxCell id="subnet-label" value="Public Subnet (10.0.1.0/24)" style="text;html=1;align=left;verticalAlign=middle;fontSize=13;fontStyle=1;fontColor=#388E3C;" parent="1" vertex="1">
                    <mxGeometry x="380" y="200" width="220" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="igw" value="Internet&#10;Gateway" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#2E7D32;fontSize=12;fontStyle=1;fontColor=#FFFFFF;arcSize=8;" parent="1" vertex="1">
                    <mxGeometry x="880" y="250" width="80" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="sg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFECB3;strokeColor=#FFA000;strokeWidth=2;dashed=1;arcSize=5;" parent="1" vertex="1">
                    <mxGeometry x="400" y="250" width="420" height="300" as="geometry"/>
                </mxCell>
                <mxCell id="sg-label" value="Security Group&#10;Inbound: TCP 49000 (configurable)" style="text;html=1;align=left;verticalAlign=top;fontSize=12;fontStyle=1;fontColor=#FFA000;" parent="1" vertex="1">
                    <mxGeometry x="420" y="260" width="250" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="ecs-cluster" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#FF9800;strokeWidth=2;arcSize=5;" parent="1" vertex="1">
                    <mxGeometry x="430" y="320" width="360" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="ecs-label" value="ECS Cluster (hello-world-ecr-ecs-fargate)" style="text;html=1;align=left;verticalAlign=middle;fontSize=13;fontStyle=1;fontColor=#FF9800;" parent="1" vertex="1">
                    <mxGeometry x="450" y="330" width="320" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="ecs-service" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#FF9800;strokeWidth=1;arcSize=5;" parent="1" vertex="1">
                    <mxGeometry x="460" y="370" width="300" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="service-label" value="ECS Service (hello-world-ecr-ecs-fargate)" style="text;html=1;align=left;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#E65100;" parent="1" vertex="1">
                    <mxGeometry x="475" y="380" width="280" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="fargate-task" value="Fargate Task&#10;&#10;0.25 vCPU / 512 MB&#10;Public IP enabled&#10;Port 49000" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9900;strokeColor=#CC7A00;fontSize=12;fontStyle=1;fontColor=#FFFFFF;arcSize=8;verticalAlign=top;spacingTop=5;" parent="1" vertex="1">
                    <mxGeometry x="490" y="410" width="150" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="container" value="hello-world&#10;:49000" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2196F3;strokeColor=#1565C0;fontSize=11;fontStyle=1;fontColor=#FFFFFF;arcSize=8;" parent="1" vertex="1">
                    <mxGeometry x="660" y="420" width="80" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="logs" value="CloudWatch Logs&#10;/ecs/hello-world-&#10;ecr-ecs-fargate&#10;(7 days retention)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9C27B0;strokeColor=#7B1FA2;fontSize=11;fontStyle=1;fontColor=#FFFFFF;arcSize=8;verticalAlign=top;spacingTop=3;" parent="1" vertex="1">
                    <mxGeometry x="80" y="320" width="150" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="iam" value="IAM Execution Role&#10;&#10;ECR pull permissions&#10;CloudWatch logs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F44336;strokeColor=#C62828;fontSize=11;fontStyle=1;fontColor=#FFFFFF;arcSize=8;verticalAlign=top;spacingTop=3;" parent="1" vertex="1">
                    <mxGeometry x="80" y="425" width="150" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="user" value="Users&#10;(Internet)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#E0E0E0;strokeColor=#757575;fontSize=12;fontStyle=1;arcSize=10;" parent="1" vertex="1">
                    <mxGeometry x="880" y="400" width="80" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="conn1" value="pull" style="edgeStyle=orthogonalEdgeStyle;rounded=1;curved=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;strokeColor=#FF9900;strokeWidth=2;fontColor=#FF9900;fontSize=11;" parent="1" source="ecr" target="fargate-task" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="310" y="210"/>
                            <mxPoint x="310" y="430"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=1;curved=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#2196F3;strokeWidth=2;" parent="1" source="fargate-task" target="container" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="conn3" style="edgeStyle=orthogonalEdgeStyle;rounded=1;curved=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#4CAF50;strokeWidth=2;" parent="1" source="container" target="igw" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="850" y="450"/>
                            <mxPoint x="850" y="280"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="conn4" value="http://:49000" style="edgeStyle=orthogonalEdgeStyle;rounded=1;curved=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#757575;strokeWidth=2;fontColor=#757575;fontSize=11;" parent="1" source="igw" target="user" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="conn5" value="logs" style="edgeStyle=orthogonalEdgeStyle;rounded=1;curved=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#9C27B0;strokeWidth=2;dashed=1;fontColor=#9C27B0;fontSize=11;" parent="1" source="fargate-task" target="logs" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="300" y="450"/>
                            <mxPoint x="300" y="365"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="conn6" value="role" style="edgeStyle=orthogonalEdgeStyle;rounded=1;curved=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#F44336;strokeWidth=2;dashed=1;fontColor=#F44336;fontSize=11;" parent="1" source="iam" target="fargate-task" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="legend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#CCCCCC;arcSize=5;" parent="1" vertex="1">
                    <mxGeometry x="80" y="580" width="200" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="legend-title" value="Resources" style="text;html=1;align=left;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#333333;" parent="1" vertex="1">
                    <mxGeometry x="90" y="590" width="100" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="leg1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9900;strokeColor=#CC7A00;arcSize=8;" parent="1" vertex="1">
                    <mxGeometry x="95" y="625" width="20" height="15" as="geometry"/>
                </mxCell>
                <mxCell id="leg1-txt" value="ECR / ECS" style="text;html=1;align=left;verticalAlign=middle;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="125" y="620" width="100" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="leg2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2196F3;strokeColor=#1565C0;arcSize=8;" parent="1" vertex="1">
                    <mxGeometry x="95" y="655" width="20" height="15" as="geometry"/>
                </mxCell>
                <mxCell id="leg2-txt" value="Container" style="text;html=1;align=left;verticalAlign=middle;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="125" y="650" width="100" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="leg3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9C27B0;strokeColor=#7B1FA2;arcSize=8;" parent="1" vertex="1">
                    <mxGeometry x="95" y="685" width="20" height="15" as="geometry"/>
                </mxCell>
                <mxCell id="leg3-txt" value="CloudWatch" style="text;html=1;align=left;verticalAlign=middle;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="125" y="680" width="100" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="leg4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F44336;strokeColor=#C62828;arcSize=8;" parent="1" vertex="1">
                    <mxGeometry x="95" y="715" width="20" height="15" as="geometry"/>
                </mxCell>
                <mxCell id="leg4-txt" value="IAM" style="text;html=1;align=left;verticalAlign=middle;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="125" y="710" width="100" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="cost-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#CCCCCC;arcSize=5;" parent="1" vertex="1">
                    <mxGeometry x="860" y="580" width="160" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="cost-title" value="Est. Cost" style="text;html=1;align=left;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#333333;" parent="1" vertex="1">
                    <mxGeometry x="870" y="590" width="100" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="cost-content" value="Fargate: ~$10/mo&#10;ECR: ~$0.10/GB&#10;Logs: ~$0.50/mo&#10;&#10;Total: ~$11/mo" style="text;html=1;align=left;verticalAlign=top;fontSize=12;spacingTop=5;" parent="1" vertex="1">
                    <mxGeometry x="870" y="620" width="140" height="130" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>