digraph "EKS Architecture: esade-teaching" {
	graph [bb="0,0,1896.5,2198",
		bgcolor=white,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=14,
		label="EKS Architecture: esade-teaching",
		lheight=0.21,
		lp="948.25,11.5",
		lwidth=3.22,
		nodesep=1.0,
		pad=1.0,
		rankdir=TB,
		ranksep=1.2,
		splines=ortho
	];
	node [fixedsize=true,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		height=1.4,
		imagescale=true,
		label="\N",
		labelloc=b,
		shape=box,
		style=rounded,
		width=1.4
	];
	edge [color="#7B8894"];
	subgraph "cluster_AWS Cloud (eu-west-1)" {
		graph [bb="157.5,31,1506.5,2190",
			bgcolor="#E5F5FD",
			fontname="Sans-Serif",
			fontsize=12,
			label="AWS Cloud (eu-west-1)",
			labeljust=l,
			lheight=0.18,
			lp="234,2179.5",
			lwidth=1.90,
			pencolor="#AEB6BE",
			rankdir=LR,
			shape=box,
			style=rounded
		];
		subgraph "cluster_CloudFormation Stacks
─────────────────────────────────────────
\
file: eksctl-cluster.yaml
automates deployment of managed K8s cluster" {
			graph [bb="916.5,1099,1240.5,1721",
				bgcolor="#EBF3E7",
				fontname="Sans-Serif",
				fontsize=12,
				label="CloudFormation Stacks
─────────────────────────────────────────
\
file: eksctl-cluster.yaml
automates deployment of managed K8s cluster",
				labeljust=l,
				lheight=0.72,
				lp="1078.5,1691",
				lwidth=4.28,
				pencolor="#AEB6BE",
				rankdir=TB,
				shape=box,
				style=rounded
			];
			"279ab46b879f46fca2ab717b98898f0b"	[height=3.0972,
				image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/management/cloudformation.png",
				label="eksctl-esade-teaching-cluster
─────────────
VPC, Control Plane
IAM Roles, OIDC",
				pos="1181.5,1541.5",
				shape=none,
				width=1.4028];
			"1982916043bf4f7b9e1e304f7ec926d1"	[height=3.0972,
				image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/management/cloudformation.png",
				label="eksctl-esade-teaching-nodegroup-students
─────────────
EC2, Auto Scaling Group
Launch Template",
				pos="975.5,1218.5",
				shape=none,
				width=1.4028];
			"279ab46b879f46fca2ab717b98898f0b" -> "1982916043bf4f7b9e1e304f7ec926d1"	[dir=none,
				fontcolor="#2D3436",
				fontname="Sans-Serif",
				fontsize=13,
				pos="1151.2,1429.9 1151.2,1349.5 1151.2,1255 1151.2,1255 1151.2,1255 1078.2,1255 1026.3,1255",
				style=invis];
		}
		subgraph "cluster_VPC: 192.168.0.0/16
─────────────────────────────────────────
\
Isolated network for all cluster resources" {
			graph [bb="165.5,39,908.5,2161",
				bgcolor="#EBF3E7",
				fontname="Sans-Serif",
				fontsize=12,
				label="VPC: 192.168.0.0/16
─────────────────────────────────────────
\
Isolated network for all cluster resources",
				labeljust=l,
				lheight=0.54,
				lp="327.5,2137.5",
				lwidth=4.28,
				pencolor="#AEB6BE",
				rankdir=LR,
				shape=box,
				style=rounded
			];
			subgraph "cluster_Public Subnets (eu-west-1a, 1b, 1c)
─────────────────────────────────────────
\
Internet-facing resources, Load Balancers" {
				graph [bb="195.5,1820,519.5,2106",
					bgcolor="#ECE8F6",
					fontname="Sans-Serif",
					fontsize=12,
					label="Public Subnets (eu-west-1a, 1b, 1c)
─────────────────────────────────────────
\
Internet-facing resources, Load Balancers",
					labeljust=l,
					lheight=0.54,
					lp="357.5,2082.5",
					lwidth=4.28,
					pencolor="#AEB6BE",
					rankdir=LR,
					shape=box,
					style=rounded
				];
				"9b295dd401954fae8208244edd850600"	[height=3.0972,
					image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/network/elastic-load-balancing.png",
					label="AWS ELB
─────────────
LoadBalancer
routes HTTP traffic",
					pos="265.5,1939.5",
					shape=none,
					width=1.4028];
			}
			subgraph "cluster_Private Subnets (eu-west-1a, 1b, 1c)
─────────────────────────────────────────
\
Isolated workloads, no direct internet access" {
				graph [bb="223.5,661,900.5,1763",
					bgcolor="#ECE8F6",
					fontname="Sans-Serif",
					fontsize=12,
					label="Private Subnets (eu-west-1a, 1b, 1c)
─────────────────────────────────────────
\
Isolated workloads, no direct internet access",
					labeljust=l,
					lheight=0.54,
					lp="385.5,1739.5",
					lwidth=4.28,
					pencolor="#AEB6BE",
					rankdir=LR,
					shape=box,
					style=rounded
				];
				subgraph "cluster_Node Group: students
─────────────────────────────────────────
\
Auto Scaling 1-3 nodes, managed by AWS" {
					graph [bb="231.5,669,892.5,1042",
						bgcolor="#FDF7E3",
						fontname="Sans-Serif",
						fontsize=12,
						label="Node Group: students
─────────────────────────────────────────
\
Auto Scaling 1-3 nodes, managed by AWS",
						labeljust=l,
						lheight=0.54,
						lp="393.5,1018.5",
						lwidth=4.28,
						pencolor="#AEB6BE",
						rankdir=LR,
						shape=box,
						style=rounded
					];
					subgraph "cluster_Node 1 - t3.medium" {
						graph [bb="239.5,677,538.5,987",
							bgcolor="#E5F5FD",
							fontname="Sans-Serif",
							fontsize=12,
							label="Node 1 - t3.medium",
							labeljust=l,
							lheight=0.18,
							lp="308,976.5",
							lwidth=1.68,
							pencolor="#AEB6BE",
							rankdir=LR,
							shape=box,
							style=rounded
						];
						subgraph "cluster_EKS Add-ons
(AWS-managed)" {
							graph [bb="412.5,685,530.5,958",
								bgcolor="#EBF3E7",
								fontname="Sans-Serif",
								fontsize=12,
								label="EKS Add-ons
(AWS-managed)",
								labeljust=l,
								lheight=0.36,
								lp="469.5,941",
								lwidth=1.36,
								pencolor="#AEB6BE",
								rankdir=LR,
								shape=box,
								style=rounded
							];
							"6b93c40326ca4d6ab8b1a1427ea350d9"	[height=3.0972,
								image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/compute/pod.png",
								label="vpc-cni
CoreDNS
kube-proxy
metrics-server",
								pos="471.5,804.5",
								shape=none,
								width=1.4028];
						}
						a18c70bd98a743baaabbddb65e9174bd	[height=3.0972,
							image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/infra/node.png",
							label="kubelet
─────────────
Node agent
runs pods",
							pos="298.5,804.5",
							shape=none,
							width=1.4028];
					}
					subgraph "cluster_Node 2 - t3.medium" {
						graph [bb="585.5,677,884.5,987",
							bgcolor="#E5F5FD",
							fontname="Sans-Serif",
							fontsize=12,
							label="Node 2 - t3.medium",
							labeljust=l,
							lheight=0.18,
							lp="654,976.5",
							lwidth=1.68,
							pencolor="#AEB6BE",
							rankdir=LR,
							shape=box,
							style=rounded
						];
						subgraph "cluster_EKS Add-ons
(AWS-managed)" {
							graph [bb="758.5,685,876.5,958",
								bgcolor="#EBF3E7",
								fontname="Sans-Serif",
								fontsize=12,
								label="EKS Add-ons
(AWS-managed)",
								labeljust=l,
								lheight=0.36,
								lp="815.5,941",
								lwidth=1.36,
								pencolor="#AEB6BE",
								rankdir=LR,
								shape=box,
								style=rounded
							];
							"5425f1db57704b3987cd6c8925927918"	[height=3.0972,
								image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/compute/pod.png",
								label="vpc-cni
CoreDNS
kube-proxy
metrics-server",
								pos="817.5,804.5",
								shape=none,
								width=1.4028];
						}
						"447b91e172a74f3bb07b7865d00bb778"	[height=3.0972,
							image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/infra/node.png",
							label="kubelet
─────────────
Node agent
runs pods",
							pos="644.5,804.5",
							shape=none,
							width=1.4028];
					}
				}
				subgraph "cluster_Namespace: hello-world
─────────────────────────────────────────
\
Application isolation boundary" {
					graph [bb="237.5,1099,561.5,1708",
						bgcolor="#FDF7E3",
						fontname="Sans-Serif",
						fontsize=12,
						label="Namespace: hello-world
─────────────────────────────────────────
\
Application isolation boundary",
						labeljust=l,
						lheight=0.54,
						lp="399.5,1684.5",
						lwidth=4.28,
						pencolor="#AEB6BE",
						rankdir=LR,
						shape=box,
						style=rounded
					];
					"5b8d8c880a1c4741841c3ba56b91a906"	[height=3.0972,
						image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/network/svc.png",
						label="Service
─────────────
LoadBalancer
exposes app on :80",
						pos="303.5,1541.5",
						shape=none,
						width=1.4028];
					e9011f776e7642ce91a939876bc9a204	[height=3.0972,
						image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/compute/pod.png",
						label="Pod 1
─────────────
hello-world
container :49000",
						pos="303.5,1218.5",
						shape=none,
						width=1.4028];
					"5b8d8c880a1c4741841c3ba56b91a906" -> e9011f776e7642ce91a939876bc9a204	[color=green,
						dir=forward,
						fontcolor="#2D3436",
						fontname="Sans-Serif",
						fontsize=13,
						pos="e,303.5,1330.1 303.5,1429.9 303.5,1429.9 303.5,1340.1 303.5,1340.1"];
					e0558ca50439430eb9c97c241c985e28	[height=3.0972,
						image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/compute/pod.png",
						label="Pod 2
─────────────
hello-world
container :49000",
						pos="486.5,1218.5",
						shape=none,
						width=1.4028];
					"5b8d8c880a1c4741841c3ba56b91a906" -> e0558ca50439430eb9c97c241c985e28	[color=green,
						dir=forward,
						fontcolor="#2D3436",
						fontname="Sans-Serif",
						fontsize=13,
						pos="e,486.5,1330.4 354.48,1541 408.62,1541 486.5,1541 486.5,1541 486.5,1541 486.5,1340.4 486.5,1340.4"];
				}
				e9011f776e7642ce91a939876bc9a204 -> a18c70bd98a743baaabbddb65e9174bd	[color=gray,
					dir=forward,
					fontcolor="#2D3436",
					fontname="Sans-Serif",
					fontsize=13,
					label="runs on",
					lp="328.5,1057",
					pos="e,272.2,916.05 272.2,1106.7 272.2,1106.7 272.2,926.05 272.2,926.05",
					style=dotted];
				e0558ca50439430eb9c97c241c985e28 -> "447b91e172a74f3bb07b7865d00bb778"	[color=gray,
					dir=forward,
					fontcolor="#2D3436",
					fontname="Sans-Serif",
					fontsize=13,
					label="runs on",
					lp="522.5,1057",
					pos="e,593.72,804 529.5,1106.9 529.5,984.11 529.5,804 529.5,804 529.5,804 583.72,804 583.72,804",
					style=dotted];
			}
			"4ce5831210384f069a332f4f196fa1cd"	[height=3.0972,
				image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/network/internet-gateway.png",
				label="Internet Gateway
─────────────
Enables internet
access for VPC",
				pos="269.5,158.5",
				shape=none,
				width=1.4028];
			"4ce5831210384f069a332f4f196fa1cd" -> "9b295dd401954fae8208244edd850600"	[color=green,
				dir=forward,
				fontcolor="#2D3436",
				fontname="Sans-Serif",
				fontsize=13,
				pos="e,238.33,1827.9 238.33,270.25 238.33,270.25 238.33,1817.9 238.33,1817.9",
				style=bold];
			"88d24fda49d44b65af1cad6d6589a5d1"	[height=3.0972,
				image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/network/nat-gateway.png",
				label="NAT Gateway
─────────────
Outbound internet
for private subnets",
				pos="402.5,481.5",
				shape=none,
				width=1.4028];
			"88d24fda49d44b65af1cad6d6589a5d1" -> "4ce5831210384f069a332f4f196fa1cd"	[color=goldenrod,
				dir=forward,
				fontcolor="#2D3436",
				fontname="Sans-Serif",
				fontsize=13,
				pos="e,284,270.31 351.9,377 319.69,377 284,377 284,377 284,377 284,280.31 284,280.31",
				style=dashed];
			"9b295dd401954fae8208244edd850600" -> "5b8d8c880a1c4741841c3ba56b91a906"	[color=green,
				dir=forward,
				fontcolor="#2D3436",
				fontname="Sans-Serif",
				fontsize=13,
				label=traffic,
				lp="297.5,1778",
				pos="e,284.5,1653.1 284.5,1827.8 284.5,1827.8 284.5,1663.1 284.5,1663.1",
				style=bold];
			a18c70bd98a743baaabbddb65e9174bd -> "88d24fda49d44b65af1cad6d6589a5d1"	[color=goldenrod,
				dir=forward,
				fontcolor="#2D3436",
				fontname="Sans-Serif",
				fontsize=13,
				label=outbound,
				lp="382.5,643",
				pos="e,351.66,585 334.5,692.82 334.5,638.6 334.5,585 334.5,585 334.5,585 341.66,585 341.66,585",
				style=dashed];
			"447b91e172a74f3bb07b7865d00bb778" -> "88d24fda49d44b65af1cad6d6589a5d1"	[color=goldenrod,
				dir=forward,
				fontcolor="#2D3436",
				fontname="Sans-Serif",
				fontsize=13,
				pos="e,453.23,518 644.5,692.91 644.5,612.47 644.5,518 644.5,518 644.5,518 463.23,518 463.23,518",
				style=dashed];
		}
		bb42427598f1403db0ec39e71455ed32	[height=3.0972,
			image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/compute/elastic-kubernetes-service.png",
			label="EKS Control Plane
─────────────
esade-teaching (K8s 1.32)
AWS-managed API server",
			pos="1299.5,1218.5",
			shape=none,
			width=1.4028];
		"279ab46b879f46fca2ab717b98898f0b" -> bb42427598f1403db0ec39e71455ed32	[color=darkgray,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			label=creates,
			lp="1265.5,1380",
			pos="e,1249,1181 1211.8,1429.9 1211.8,1324 1211.8,1181 1211.8,1181 1211.8,1181 1239,1181 1239,1181",
			style=dotted];
		"279ab46b879f46fca2ab717b98898f0b" -> "4ce5831210384f069a332f4f196fa1cd"	[color=darkgray,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			pos="e,320.06,158 1191.6,1429.7 1191.6,1100.6 1191.6,158 1191.6,158 1191.6,158 330.06,158 330.06,158",
			style=dotted];
		"279ab46b879f46fca2ab717b98898f0b" -> "88d24fda49d44b65af1cad6d6589a5d1"	[color=darkgray,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			pos="e,453.25,444 1171.4,1430 1171.4,1150.8 1171.4,444 1171.4,444 1171.4,444 463.25,444 463.25,444",
			style=dotted];
		"1982916043bf4f7b9e1e304f7ec926d1" -> a18c70bd98a743baaabbddb65e9174bd	[color=darkgray,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			label=creates,
			lp="738.5,1057",
			pos="e,291.4,916.08 975.5,1106.8 975.5,1088.3 975.5,1075 975.5,1075 975.5,1075 291.4,1075 291.4,1075 291.4,1075 291.4,926.08 291.4,926.08",
			style=dotted];
		"1982916043bf4f7b9e1e304f7ec926d1" -> "447b91e172a74f3bb07b7865d00bb778"	[color=darkgray,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			pos="e,619.25,916.13 924.84,1218 826.48,1218 619.25,1218 619.25,1218 619.25,1218 619.25,926.13 619.25,926.13",
			style=dotted];
		bb42427598f1403db0ec39e71455ed32 -> a18c70bd98a743baaabbddb65e9174bd	[color=blue,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			label=kubelet,
			lp="910.5,1057",
			pos="e,310.6,916.07 1282.7,1106.9 1282.7,1072.2 1282.7,1043 1282.7,1043 1282.7,1043 310.6,1043 310.6,1043 310.6,1043 310.6,926.07 310.6,\
926.07",
			style=dashed];
		bb42427598f1403db0ec39e71455ed32 -> "447b91e172a74f3bb07b7865d00bb778"	[color=blue,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			pos="e,644.5,916 1316.3,1106.8 1316.3,1044.4 1316.3,979 1316.3,979 1316.3,979 644.5,979 644.5,979 644.5,979 644.5,926 644.5,926",
			style=dashed];
	}
	"677c1c477fe04bda86f585de0c3004e0"	[height=2.6944,
		image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/general/users.png",
		label="Users/Clients
─────────────
External HTTP requests",
		pos="50.5,481.5",
		shape=none,
		width=1.4028];
	"677c1c477fe04bda86f585de0c3004e0" -> "4ce5831210384f069a332f4f196fa1cd"	[color=green,
		dir=forward,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		label=HTTP,
		lp="67.5,320",
		pos="e,228.67,270.39 101.08,481 153.75,481 228.67,481 228.67,481 228.67,481 228.67,280.39 228.67,280.39",
		style=bold];
	"3e1fb0fafae4403c8644995d453e969f"	[height=3.0972,
		image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/onprem/client/user.png",
		label="Developer
─────────────
kubectl/eksctl
cluster management",
		pos="1570.5,1541.5",
		shape=none,
		width=1.4028];
	"3e1fb0fafae4403c8644995d453e969f" -> bb42427598f1403db0ec39e71455ed32	[color=blue,
		dir=forward,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		label=kubectl,
		lp="1595,1380",
		pos="e,1282.7,1330.4 1519.7,1541 1437.1,1541 1282.7,1541 1282.7,1541 1282.7,1541 1282.7,1340.4 1282.7,1340.4",
		style=dashed];
	"64c5c095720c446888622f57e7ce350f"	[height=3.0972,
		image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/onprem/ci/github-actions.png",
		label="GitHub Actions
─────────────
CI/CD pipeline
automates build & deploy",
		pos="1781.5,1541.5",
		shape=none,
		width=1.4028];
	cddc898fcab546f5b10ec5ebafad1289	[height=3.0972,
		image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/onprem/container/docker.png",
		label="ghcr.io
─────────────
Container Registry
stores Docker images",
		pos="1687.5,1218.5",
		shape=none,
		width=1.4028];
	"64c5c095720c446888622f57e7ce350f" -> cddc898fcab546f5b10ec5ebafad1289	[color=purple,
		dir=forward,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		label="push image",
		lp="1857.5,1380",
		pos="e,1735.7,1330.1 1735.7,1429.9 1735.7,1429.9 1735.7,1340.1 1735.7,1340.1"];
	"64c5c095720c446888622f57e7ce350f" -> bb42427598f1403db0ec39e71455ed32	[color=purple,
		dir=forward,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		label=deploy,
		lp="1719,1380",
		pos="e,1316.3,1330.2 1733.3,1429.8 1733.3,1402 1733.3,1380 1733.3,1380 1733.3,1380 1316.3,1380 1316.3,1380 1316.3,1380 1316.3,1340.2 \
1316.3,1340.2",
		style=dashed];
	cddc898fcab546f5b10ec5ebafad1289 -> a18c70bd98a743baaabbddb65e9174bd	[color=orange,
		dir=forward,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		label="pull image",
		lp="1610.5,1057",
		pos="e,329.8,916.21 1670.7,1106.9 1670.7,1057.7 1670.7,1011 1670.7,1011 1670.7,1011 329.8,1011 329.8,1011 329.8,1011 329.8,926.21 329.8,\
926.21",
		style=dashed];
	cddc898fcab546f5b10ec5ebafad1289 -> "447b91e172a74f3bb07b7865d00bb778"	[color=orange,
		dir=forward,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		pos="e,669.75,916.08 1704.3,1106.9 1704.3,1032 1704.3,947 1704.3,947 1704.3,947 669.75,947 669.75,947 669.75,947 669.75,926.08 669.75,\
926.08",
		style=dashed];
}
