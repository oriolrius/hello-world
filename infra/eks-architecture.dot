digraph "EKS Architecture: esade-teaching" {
	graph [bb="0,0,1384.5,2083",
		bgcolor=white,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=14,
		label="EKS Architecture: esade-teaching",
		lheight=0.21,
		lp="692.25,11.5",
		lwidth=3.22,
		nodesep=0.60,
		pad=0.5,
		rankdir=TB,
		ranksep=0.75,
		splines=ortho
	];
	node [fixedsize=true,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		height=1.4,
		imagescale=true,
		label="\N",
		labelloc=b,
		shape=box,
		style=rounded,
		width=1.4
	];
	edge [color="#7B8894"];
	subgraph "cluster_AWS Cloud (eu-west-1)" {
		graph [bb="128.5,31,1103.5,2075",
			bgcolor="#E5F5FD",
			fontname="Sans-Serif",
			fontsize=12,
			label="AWS Cloud (eu-west-1)",
			labeljust=l,
			lheight=0.18,
			lp="205,2064.5",
			lwidth=1.90,
			pencolor="#AEB6BE",
			rankdir=LR,
			shape=box,
			style=rounded
		];
		subgraph "cluster_CloudFormation Stacks
─────────────────────────────────────────
\
file: eksctl-cluster.yaml
automates deployment of managed K8s cluster" {
			graph [bb="771.5,1323,1095.5,1622",
				bgcolor="#EBF3E7",
				fontname="Sans-Serif",
				fontsize=12,
				label="CloudFormation Stacks
─────────────────────────────────────────
\
file: eksctl-cluster.yaml
automates deployment of managed K8s cluster",
				labeljust=l,
				lheight=0.72,
				lp="933.5,1592",
				lwidth=4.28,
				pencolor="#AEB6BE",
				rankdir=LR,
				shape=box,
				style=rounded
			];
			"882c98eb62bd43e2a971e98f1ce37448"	[height=3.0972,
				image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/management/cloudformation.png",
				label="eksctl-esade-teaching-cluster
─────────────
VPC, Control Plane
IAM Roles, OIDC",
				pos="974.5,1442.5",
				shape=none,
				width=1.4028];
			"9617c76175e64dceb1d48aa0ca141e2e"	[height=3.0972,
				image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/management/cloudformation.png",
				label="eksctl-esade-teaching-nodegroup-students
─────────────
EC2, Auto Scaling Group
Launch Template",
				pos="830.5,1442.5",
				shape=none,
				width=1.4028];
		}
		subgraph "cluster_VPC: 192.168.0.0/16
─────────────────────────────────────────
\
Isolated network for all cluster resources" {
			graph [bb="136.5,39,763.5,2046",
				bgcolor="#EBF3E7",
				fontname="Sans-Serif",
				fontsize=12,
				label="VPC: 192.168.0.0/16
─────────────────────────────────────────
\
Isolated network for all cluster resources",
				labeljust=l,
				lheight=0.54,
				lp="298.5,2022.5",
				lwidth=4.28,
				pencolor="#AEB6BE",
				rankdir=LR,
				shape=box,
				style=rounded
			];
			subgraph "cluster_Public Subnets (eu-west-1a, 1b, 1c)
─────────────────────────────────────────
\
Internet-facing resources, Load Balancers" {
				graph [bb="162.5,1705,486.5,1991",
					bgcolor="#ECE8F6",
					fontname="Sans-Serif",
					fontsize=12,
					label="Public Subnets (eu-west-1a, 1b, 1c)
─────────────────────────────────────────
\
Internet-facing resources, Load Balancers",
					labeljust=l,
					lheight=0.54,
					lp="324.5,1967.5",
					lwidth=4.28,
					pencolor="#AEB6BE",
					rankdir=LR,
					shape=box,
					style=rounded
				];
				"6fc5d777ec8d4b4f8f748c6877ff58f2"	[height=3.0972,
					image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/network/elastic-load-balancing.png",
					label="AWS ELB
─────────────
LoadBalancer
routes HTTP traffic",
					pos="230.5,1824.5",
					shape=none,
					width=1.4028];
			}
			subgraph "cluster_Private Subnets (eu-west-1a, 1b, 1c)
─────────────────────────────────────────
\
Isolated workloads, no direct internet access" {
				graph [bb="165.5,610,755.5,1664",
					bgcolor="#ECE8F6",
					fontname="Sans-Serif",
					fontsize=12,
					label="Private Subnets (eu-west-1a, 1b, 1c)
─────────────────────────────────────────
\
Isolated workloads, no direct internet access",
					labeljust=l,
					lheight=0.54,
					lp="327.5,1640.5",
					lwidth=4.28,
					pencolor="#AEB6BE",
					rankdir=LR,
					shape=box,
					style=rounded
				];
				subgraph "cluster_Node Group: students
─────────────────────────────────────────
\
Auto Scaling 1-3 nodes, managed by AWS" {
					graph [bb="173.5,618,747.5,991",
						bgcolor="#FDF7E3",
						fontname="Sans-Serif",
						fontsize=12,
						label="Node Group: students
─────────────────────────────────────────
\
Auto Scaling 1-3 nodes, managed by AWS",
						labeljust=l,
						lheight=0.54,
						lp="335.5,967.5",
						lwidth=4.28,
						pencolor="#AEB6BE",
						rankdir=LR,
						shape=box,
						style=rounded
					];
					subgraph "cluster_Node 1 - t3.medium" {
						graph [bb="181.5,626,451.5,936",
							bgcolor="#E5F5FD",
							fontname="Sans-Serif",
							fontsize=12,
							label="Node 1 - t3.medium",
							labeljust=l,
							lheight=0.18,
							lp="250,925.5",
							lwidth=1.68,
							pencolor="#AEB6BE",
							rankdir=LR,
							shape=box,
							style=rounded
						];
						subgraph "cluster_EKS Add-ons
(AWS-managed)" {
							graph [bb="325.5,634,443.5,907",
								bgcolor="#EBF3E7",
								fontname="Sans-Serif",
								fontsize=12,
								label="EKS Add-ons
(AWS-managed)",
								labeljust=l,
								lheight=0.36,
								lp="382.5,890",
								lwidth=1.36,
								pencolor="#AEB6BE",
								rankdir=LR,
								shape=box,
								style=rounded
							];
							df3679cf13e6450d95c0dd00d2be9ac9	[height=3.0972,
								image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/compute/pod.png",
								label="vpc-cni
CoreDNS
kube-proxy
metrics-server",
								pos="384.5,753.5",
								shape=none,
								width=1.4028];
						}
						be72f3d2aba644869a1d0147811f2598	[height=3.0972,
							image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/infra/node.png",
							label="kubelet
─────────────
Node agent
runs pods",
							pos="240.5,753.5",
							shape=none,
							width=1.4028];
					}
					subgraph "cluster_Node 2 - t3.medium" {
						graph [bb="469.5,626,739.5,936",
							bgcolor="#E5F5FD",
							fontname="Sans-Serif",
							fontsize=12,
							label="Node 2 - t3.medium",
							labeljust=l,
							lheight=0.18,
							lp="538,925.5",
							lwidth=1.68,
							pencolor="#AEB6BE",
							rankdir=LR,
							shape=box,
							style=rounded
						];
						subgraph "cluster_EKS Add-ons
(AWS-managed)" {
							graph [bb="613.5,634,731.5,907",
								bgcolor="#EBF3E7",
								fontname="Sans-Serif",
								fontsize=12,
								label="EKS Add-ons
(AWS-managed)",
								labeljust=l,
								lheight=0.36,
								lp="670.5,890",
								lwidth=1.36,
								pencolor="#AEB6BE",
								rankdir=LR,
								shape=box,
								style=rounded
							];
							"9daf48fdcc7f417db87e53f0f051d03e"	[height=3.0972,
								image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/compute/pod.png",
								label="vpc-cni
CoreDNS
kube-proxy
metrics-server",
								pos="672.5,753.5",
								shape=none,
								width=1.4028];
						}
						"9205d565abd1423c8495047886dd7ca1"	[height=3.0972,
							image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/infra/node.png",
							label="kubelet
─────────────
Node agent
runs pods",
							pos="528.5,753.5",
							shape=none,
							width=1.4028];
					}
				}
				subgraph "cluster_Namespace: hello-world
─────────────────────────────────────────
\
Application isolation boundary" {
					graph [bb="177.5,1032,501.5,1609",
						bgcolor="#FDF7E3",
						fontname="Sans-Serif",
						fontsize=12,
						label="Namespace: hello-world
─────────────────────────────────────────
\
Application isolation boundary",
						labeljust=l,
						lheight=0.54,
						lp="339.5,1585.5",
						lwidth=4.28,
						pencolor="#AEB6BE",
						rankdir=LR,
						shape=box,
						style=rounded
					];
					"8056450d6d774edd94b72832916ab13f"	[height=3.0972,
						image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/network/svc.png",
						label="Service
─────────────
LoadBalancer
exposes app on :80",
						pos="240.5,1442.5",
						shape=none,
						width=1.4028];
					"0a631d65aeac477786cee863d44eb60f"	[height=3.0972,
						image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/compute/pod.png",
						label="Pod 1
─────────────
hello-world
container :49000",
						pos="240.5,1151.5",
						shape=none,
						width=1.4028];
					"8056450d6d774edd94b72832916ab13f" -> "0a631d65aeac477786cee863d44eb60f"	[color=green,
						dir=forward,
						fontcolor="#2D3436",
						fontname="Sans-Serif",
						fontsize=13,
						pos="e,240.5,1263.4 240.5,1330.8 240.5,1330.8 240.5,1273.4 240.5,1273.4"];
					"363b1d1a714b4d809ae08b6484a50e3b"	[height=3.0972,
						image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/k8s/compute/pod.png",
						label="Pod 2
─────────────
hello-world
container :49000",
						pos="399.5,1151.5",
						shape=none,
						width=1.4028];
					"8056450d6d774edd94b72832916ab13f" -> "363b1d1a714b4d809ae08b6484a50e3b"	[color=green,
						dir=forward,
						fontcolor="#2D3436",
						fontname="Sans-Serif",
						fontsize=13,
						pos="e,399.5,1263.1 291.25,1405 337.78,1405 399.5,1405 399.5,1405 399.5,1405 399.5,1273.1 399.5,1273.1"];
				}
				"0a631d65aeac477786cee863d44eb60f" -> be72f3d2aba644869a1d0147811f2598	[color=gray,
					dir=forward,
					fontcolor="#2D3436",
					fontname="Sans-Serif",
					fontsize=13,
					label="runs on",
					lp="265.5,1006",
					pos="e,210.2,865.07 210.2,1039.8 210.2,1039.8 210.2,875.07 210.2,875.07",
					style=dotted];
				"363b1d1a714b4d809ae08b6484a50e3b" -> "9205d565abd1423c8495047886dd7ca1"	[color=gray,
					dir=forward,
					fontcolor="#2D3436",
					fontname="Sans-Serif",
					fontsize=13,
					label="runs on",
					lp="482.5,1006",
					pos="e,477.98,753 442.5,1040 442.5,922.08 442.5,753 442.5,753 442.5,753 467.98,753 467.98,753",
					style=dotted];
			}
			faecd6f2f6ff4db998b712c657f5d43e	[height=3.0972,
				image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/network/internet-gateway.png",
				label="Internet Gateway
─────────────
Enables internet
access for VPC",
				pos="307.5,158.5",
				shape=none,
				width=1.4028];
			faecd6f2f6ff4db998b712c657f5d43e -> "6fc5d777ec8d4b4f8f748c6877ff58f2"	[color=green,
				dir=forward,
				fontcolor="#2D3436",
				fontname="Sans-Serif",
				fontsize=13,
				pos="e,281.22,1824 298.33,270.04 298.33,643.11 298.33,1824 298.33,1824 298.33,1824 291.22,1824 291.22,1824",
				style=bold];
			d78972677c6a4f7b9b98b65cc4140bb2	[height=3.0972,
				image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/network/nat-gateway.png",
				label="NAT Gateway
─────────────
Outbound internet
for private subnets",
				pos="363.5,449.5",
				shape=none,
				width=1.4028];
			d78972677c6a4f7b9b98b65cc4140bb2 -> faecd6f2f6ff4db998b712c657f5d43e	[color=goldenrod,
				dir=forward,
				fontcolor="#2D3436",
				fontname="Sans-Serif",
				fontsize=13,
				pos="e,335.5,270.36 335.5,337.82 335.5,337.82 335.5,280.36 335.5,280.36",
				style=dashed];
			"6fc5d777ec8d4b4f8f748c6877ff58f2" -> "8056450d6d774edd94b72832916ab13f"	[color=green,
				dir=forward,
				fontcolor="#2D3436",
				fontname="Sans-Serif",
				fontsize=13,
				label=traffic,
				lp="255.5,1679",
				pos="e,235.5,1554.2 235.5,1713 235.5,1713 235.5,1564.2 235.5,1564.2",
				style=bold];
			be72f3d2aba644869a1d0147811f2598 -> d78972677c6a4f7b9b98b65cc4140bb2	[color=goldenrod,
				dir=forward,
				fontcolor="#2D3436",
				fontname="Sans-Serif",
				fontsize=13,
				label=outbound,
				lp="327.5,595",
				pos="e,312.8,553 279.67,641.82 279.67,595.78 279.67,553 279.67,553 279.67,553 302.8,553 302.8,553",
				style=dashed];
			"9205d565abd1423c8495047886dd7ca1" -> d78972677c6a4f7b9b98b65cc4140bb2	[color=goldenrod,
				dir=forward,
				fontcolor="#2D3436",
				fontname="Sans-Serif",
				fontsize=13,
				pos="e,414.35,449 528.5,641.84 528.5,554.94 528.5,449 528.5,449 528.5,449 424.35,449 424.35,449",
				style=dashed];
		}
		ff37f11aacb44243b7df045e1aa93231	[height=3.0972,
			image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/compute/elastic-kubernetes-service.png",
			label="EKS Control Plane
─────────────
esade-teaching (K8s 1.32)
AWS-managed API server",
			pos="974.5,1151.5",
			shape=none,
			width=1.4028];
		"882c98eb62bd43e2a971e98f1ce37448" -> ff37f11aacb44243b7df045e1aa93231	[color=darkgray,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			label=creates,
			lp="999.5,1297",
			pos="e,974.5,1263.4 974.5,1330.8 974.5,1330.8 974.5,1273.4 974.5,1273.4",
			style=dotted];
		"882c98eb62bd43e2a971e98f1ce37448" -> faecd6f2f6ff4db998b712c657f5d43e	[color=darkgray,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			pos="e,305.67,270.11 940.83,1330.9 940.83,1322.4 940.83,1317 940.83,1317 940.83,1317 305.67,1317 305.67,1317 305.67,1317 305.67,280.11 \
305.67,280.11",
			style=dotted];
		"882c98eb62bd43e2a971e98f1ce37448" -> d78972677c6a4f7b9b98b65cc4140bb2	[color=darkgray,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			pos="e,323.5,561.08 957.67,1330.9 957.67,1314.5 957.67,1303 957.67,1303 957.67,1303 323.5,1303 323.5,1303 323.5,1303 323.5,571.08 323.5,\
571.08",
			style=dotted];
		"9617c76175e64dceb1d48aa0ca141e2e" -> be72f3d2aba644869a1d0147811f2598	[color=darkgray,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			label=creates,
			lp="586.5,1151.5",
			pos="e,230.4,865.28 830.5,1331 830.5,1201.3 830.5,1005 830.5,1005 830.5,1005 230.4,1005 230.4,1005 230.4,1005 230.4,875.28 230.4,875.28",
			style=dotted];
		"9617c76175e64dceb1d48aa0ca141e2e" -> "9205d565abd1423c8495047886dd7ca1"	[color=darkgray,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			pos="e,503.25,865.27 779.73,1479 687.81,1479 503.25,1479 503.25,1479 503.25,1479 503.25,875.27 503.25,875.27",
			style=dotted];
		ff37f11aacb44243b7df045e1aa93231 -> be72f3d2aba644869a1d0147811f2598	[color=blue,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			label=kubelet,
			lp="772.5,1006",
			pos="e,250.6,865.24 974.5,1039.9 974.5,1002.5 974.5,970 974.5,970 974.5,970 250.6,970 250.6,970 250.6,970 250.6,875.24 250.6,875.24",
			style=dashed];
		ff37f11aacb44243b7df045e1aa93231 -> "9205d565abd1423c8495047886dd7ca1"	[color=blue,
			dir=forward,
			fontcolor="#2D3436",
			fontname="Sans-Serif",
			fontsize=13,
			pos="e,528.5,865.02 923.77,1151 806.88,1151 528.5,1151 528.5,1151 528.5,1151 528.5,875.02 528.5,875.02",
			style=dashed];
	}
	fe7cbedb90244600bc970bc9b519baa1	[height=2.6944,
		image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/aws/general/users.png",
		label="Users/Clients
─────────────
External HTTP requests",
		pos="50.5,449.5",
		shape=none,
		width=1.4028];
	fe7cbedb90244600bc970bc9b519baa1 -> faecd6f2f6ff4db998b712c657f5d43e	[color=green,
		dir=forward,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		label=HTTP,
		lp="67.5,304",
		pos="e,268.33,270.4 101.02,449 165.37,449 268.33,449 268.33,449 268.33,449 268.33,280.4 268.33,280.4",
		style=bold];
	"33fb51c94e0647438fa942489e544305"	[height=3.0972,
		image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/onprem/client/user.png",
		label="Developer
─────────────
kubectl/eksctl
cluster management",
		pos="1162.5,1442.5",
		shape=none,
		width=1.4028];
	"33fb51c94e0647438fa942489e544305" -> ff37f11aacb44243b7df045e1aa93231	[color=blue,
		dir=forward,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		label=kubectl,
		lp="1141,1297",
		pos="e,991.33,1263.3 1162.5,1330.9 1162.5,1307.6 1162.5,1290 1162.5,1290 1162.5,1290 991.33,1290 991.33,1290 991.33,1290 991.33,1273.3 \
991.33,1273.3",
		style=dashed];
	"03983cf237744e50aed2d2e852b192f5"	[height=3.0972,
		image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/onprem/ci/github-actions.png",
		label="GitHub Actions
─────────────
CI/CD pipeline
automates build & deploy",
		pos="1306.5,1442.5",
		shape=none,
		width=1.4028];
	ed0e73e0910543fdb8cc459a5536298b	[height=3.0972,
		image="/home/oriol/esade/hello-world/tools/.venv/lib/python3.13/site-packages/resources/onprem/container/docker.png",
		label="ghcr.io
─────────────
Container Registry
stores Docker images",
		pos="1162.5,1151.5",
		shape=none,
		width=1.4028];
	"03983cf237744e50aed2d2e852b192f5" -> ed0e73e0910543fdb8cc459a5536298b	[color=purple,
		dir=forward,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		label="push image",
		lp="1345.5,1297",
		pos="e,1213.4,1151 1323.3,1330.6 1323.3,1248.4 1323.3,1151 1323.3,1151 1323.3,1151 1223.4,1151 1223.4,1151"];
	"03983cf237744e50aed2d2e852b192f5" -> ff37f11aacb44243b7df045e1aa93231	[color=purple,
		dir=forward,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		label=deploy,
		lp="1236,1297",
		pos="e,1008.2,1263.1 1289.7,1331 1289.7,1300.6 1289.7,1276 1289.7,1276 1289.7,1276 1008.2,1276 1008.2,1276 1008.2,1276 1008.2,1273.1 \
1008.2,1273.1",
		style=dashed];
	ed0e73e0910543fdb8cc459a5536298b -> be72f3d2aba644869a1d0147811f2598	[color=orange,
		dir=forward,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		label="pull image",
		lp="1031.5,1006",
		pos="e,270.8,865.09 1145.7,1039.8 1145.7,986.82 1145.7,935 1145.7,935 1145.7,935 270.8,935 270.8,935 270.8,935 270.8,875.09 270.8,875.09",
		style=dashed];
	ed0e73e0910543fdb8cc459a5536298b -> "9205d565abd1423c8495047886dd7ca1"	[color=orange,
		dir=forward,
		fontcolor="#2D3436",
		fontname="Sans-Serif",
		fontsize=13,
		pos="e,553.75,865.28 1179.3,1039.7 1179.3,972.55 1179.3,900 1179.3,900 1179.3,900 553.75,900 553.75,900 553.75,900 553.75,875.28 553.75,\
875.28",
		style=dashed];
}
